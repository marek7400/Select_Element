# Select Element - Chrome extension.
Select element on page, show info class ID root, hide element, copy selector to clipboard.
<br>
<br>
<br>

![select](images/select2.png)

### v2.1 

add "Short" option.


![2.1](images/2.1.png)

### v2.2 

-more precise selection. 

-option to select individual or similar elements

-multi-level undo hiding

-moving through the element tree with sliders

-option to freeze the menu

# v2.3

### FIX working on some pages. (ex. Google Maps)

![2.2](images/2.2.png)

# v2.4 change in the method of operation/selection of sliders

2 method block menu: JS (default) and CSS menu.

fix on some pages with wrong html menu (non-standard)

# v2.5 Another change to the selection method, added mode for searching within an element and copying properties

![2.5](images/2.5.png)
<br>
<br>
<br>
# v2.6 Another change to the selection method.  
Simplified logic of the Up and DOWN modes.  

![2.6](images/2.6.png)  

### freeze menu mode:
![freeze](images/freeze.png)  
<br>
<br>
<br>
![freeze2](images/freeze2.png)    

# v2.7 add Manual Selector Input  
<br>
<br>
<br>
<br>
<br>
<br>
***

# Select Element

**Select Element** is a powerful browser extension for developers, testers, and content creators. It provides an advanced interface for selecting web page elements, generating precise CSS selectors, and interacting with them in various ways. Its key strength lies in its ability to work seamlessly across iframes and handle dynamic, hard-to-click elements.

This tool is heavily inspired by the element picker found in uBlock Origin, but rebuilt as a standalone extension with additional features for developers.

## ‚ú® Key Features

*   **Interactive Element Selection:** Visually select any element on a page with your mouse.
*   **Advanced Selector Generation:** Fine-tune selectors using an intuitive slider and modifier checkboxes.
*   **Full Iframe Support:** Select elements inside nested iframes without any extra steps. The tool automatically handles communication between frames.
*   **Dynamic Content Freezing:** "Freeze" dropdown menus or hover-activated elements to make them selectable.
*   **Live Element Manipulation:** Temporarily hide elements on the page to test layout changes.
*   **Multiple Copy Formats:** Copy the generated selector as a standard CSS filter, a JavaScript query, XPath, or copy the element's `outerHTML` and computed styles.
*   **Customizable UI:** Change the highlight colors to your preference. The panel is draggable and resizable.

## üöÄ Installation

1.  Clone this repository or download it as a ZIP file.
2.  Open Google Chrome and navigate to `chrome://extensions`.
3.  Enable "Developer mode" in the top-right corner.
4.  Click "Load unpacked" and select the directory where you saved the extension files.
5.  The Element Picker icon will appear in your browser's toolbar.

## üìñ How to Use

1.  Navigate to the webpage where you want to select an element.
2.  Click the Element Picker icon in your browser's toolbar.
3.  The page will enter "picker mode." Your cursor will change to a crosshair, and a semi-transparent overlay will cover the page.
4.  Hover over elements to see them highlighted in blue (by default).
5.  Click on an element to "select" it. This will pause the picker and open the main control panel.

## üéõÔ∏è The Control Panel Explained

Once an element is selected, the control panel appears, giving you full control over the selector generation.

### Selector Generation Controls

This is the core of the tool. These controls allow you to precisely define the selector you need.

#### The Slider (UP / DOWN)

The slider is the primary tool for traversing the DOM tree relative to the element you clicked. Its behavior is controlled by the `Inside` checkbox.

*   **UP Mode (`Inside` checkbox is OFF):**
    *   This is the default mode. The slider allows you to **traverse up the DOM tree** from your selected element to its parents.
    *   When the slider is at `0`, it targets the element you clicked.
    *   As you move the slider to the right, the selection expands to include the parent, then the grandparent, and so on. This is useful for selecting a container when you've clicked a specific item inside it.
    *   The label next to the slider will read **UP**.

*   **DOWN Mode (`Inside` checkbox is ON):**
    *   This mode allows you to **traverse down into the descendants** of the currently selected element.
    *   It uses a TreeWalker to find all child elements and text nodes.
    *   The slider lets you step through each of these descendants one by one. This is useful for targeting a very specific child element within a larger component you've already selected.
    *   The label next to the slider will read **DOWN**.

#### The Checkboxes

These checkboxes modify the behavior of the slider and the final generated selector.

*   ‚úÖ **`Inside`**
    *   **Function:** Toggles the slider's behavior between **UP Mode** and **DOWN Mode**.
    *   **When unchecked (default):** The slider moves up to parent elements.
    *   **When checked:** The slider moves down to child elements.

*   ‚úÖ **`Similar`**
    *   **Function:** Toggles between selecting a single, specific element and selecting multiple, similar elements.
    *   **When unchecked (default):** The tool uses a highly specific selector (e.g., ``div#main > ul.menu > li:nth-of-type(3)``) to target *only* the element you are focused on. The highlight will be on a single element.
    *   **When checked:** The tool generates a more generic selector (e.g., `.menu-item`) that may match multiple elements on the page. All matching elements will be highlighted. This is perfect for creating rules that apply to all similar items in a list or grid.

*   ‚úÖ **`Short`**
    *   **Function:** Controls the verbosity of the selector **displayed in the text box**.
    *   **When unchecked (default):** The text box shows the full, precise selector path (e.g., ``body > div#app > section.content``).
    *   **When checked:** The text box shows a shorter, more concise version of the selector, usually just for the final element in the path (e.g., `section.content`). This is a cosmetic change to make the selector easier to read, while the underlying selection logic still respects the `Similar` checkbox.

### ‚ùÑÔ∏è The Freeze Function

Dynamic web pages often have elements, like navigation menus, that appear on hover and disappear when you try to move your mouse to click them. The Freeze function is designed to solve this problem.

It has two modes:

1.  **JS Freeze (Click the `‚ùÑÔ∏è` button):**
    *   **What it does:** This mode blocks common JavaScript events that cause elements to hide, such as `mouseout`, `mouseleave`, `blur`, and `focusout`.
    *   **How to use:** If a menu disappears when you move your mouse away, click the `‚ùÑÔ∏è` button to activate the freeze. The icon will turn blue. Now, activate the menu (e.g., by hovering over its trigger). It should stay visible, allowing you to click on its items with the picker.
    *   Click the `‚ùÑÔ∏è` button again to disable it.

2.  **CSS Freeze (Press the `Z` key):**
    *   **What it does:** This mode is for elements that are revealed using CSS `:hover` pseudo-classes. It takes a "snapshot" of the computed styles of a hovered element and applies them inline, forcing it to stay visible.
    *   **How to use:** Hover over the parent element that triggers the menu to appear (e.g., the `<li>` in a navigation bar). While the menu is visible, press the `Z` key. The menu will be "frozen" in place, and a striped overlay will appear over the area to indicate it's frozen. You can now freely move your mouse and select items from it.
    *   Press `Z` again to unfreeze.

### Other Controls

*   **Selector Display:** A text area showing the currently generated selector. You can also manually edit it.
*   **Copy Mode:** A set of radio buttons to choose the format for the clipboard:
    *   `##`: A standard ad-blocker filter format (e.g., `##div.ad-banner`).
    *   `JS`: A JavaScript `querySelector` string.
    *   `o.HTML` / `Element`: The element's `outerHTML`.
    *   `Styles`: A detailed list of the element's computed CSS styles, similar to the browser's dev tools.
    *   `XPath` / `F.XPath`: The element's relative or full XPath.
*   **Action Buttons:**
    *   `SELECT`: Exits the control panel and returns to picker mode to select a new element.
    *   `CLEAR`: Clears the current selection and resets the panel.
    *   `HIDE`: Applies `display: none !important;` to the current selector, hiding the element(s).
    *   `UNDO`: Reverts the last `HIDE` action.
    *   `SHOW`: Reverts all `HIDE` actions performed in the current session.
    *   `COPY`: Copies the selector to the clipboard in the chosen format.
 
**Feature Name:** Manual Selector Input

**Purpose:** To allow the user to manually type or paste a CSS selector directly into the extension's panel and then treat the found element as if it were clicked by the mouse in picker mode.

**How it works:**

1.  The user activates the extension.
2.  In the panel's top text area (`#ubo-picker-filter-display`), the user can type any valid CSS selector.
3.  After typing the selector, the user presses the `Enter` key.

**Behavior upon pressing `Enter`:**

*   **Success (element found):**
    *   The extension searches the page for the first element that matches the provided selector.
    *   If an element is found, the extension enters the "paused" state, exactly as it would after a mouse click on an element.
    *   A full DOM path (`fullSelectorPath`) to this element is generated.
    *   All panel controls (the DOM traversal slider, `Inside`, `Similar`, `Short` checkboxes) become active and operate in the context of the found element, allowing for further manipulation and final selector generation.
    *   The selection highlight correctly follows the element on page scroll.

*   **No Matches:**
    *   If the provided selector is syntactically correct but does not match any element on the page, the text area is highlighted with an orange border and a `(0 matches)` message is displayed.
    *   The extension returns to the active picking mode (crosshair cursor), allowing the user to select an element with the mouse again.

*   **Invalid Selector:**
    *   If the entered text is not a valid CSS selector (syntax error), the text area is highlighted with a red border to signal the error. No further action is taken.

---

**Select Element** 
to zaawansowane rozszerzenie przeglƒÖdarki dla deweloper√≥w, tester√≥w i tw√≥rc√≥w tre≈õci. Dostarcza zaawansowany interfejs do wybierania element√≥w na stronie internetowej, generowania precyzyjnych selektor√≥w CSS i interakcji z nimi na r√≥≈ºne sposoby. Jego kluczowƒÖ zaletƒÖ jest zdolno≈õƒá do p≈Çynnej pracy wewnƒÖtrz ramek `iframe` oraz obs≈Çuga dynamicznych, trudnych do klikniƒôcia element√≥w.

Narzƒôdzie jest mocno inspirowane pr√≥bnikiem element√≥w z rozszerzenia uBlock Origin, ale zosta≈Ço stworzone od nowa jako samodzielne rozszerzenie z dodatkowymi funkcjami dla deweloper√≥w.

## ‚ú® Kluczowe Funkcje

*   **Interaktywne Wybieranie Element√≥w:** Wizualnie zaznacz dowolny element na stronie za pomocƒÖ myszy.
*   **Zaawansowane Generowanie Selektor√≥w:** Dostosuj selektory za pomocƒÖ intuicyjnego suwaka i modyfikujƒÖcych p√≥l wyboru.
*   **Pe≈Çne Wsparcie dla Iframe:** Wybieraj elementy w zagnie≈ºd≈ºonych ramkach `iframe` bez ≈ºadnych dodatkowych krok√≥w. Narzƒôdzie automatycznie zarzƒÖdza komunikacjƒÖ miƒôdzy ramkami.
*   **Zamra≈ºanie Dynamicznej Tre≈õci:** "Zamra≈ºaj" rozwijane menu lub elementy aktywowane przez najechanie myszƒÖ, aby mo≈ºna by≈Ço je zaznaczyƒá.
*   **Manipulacja Elementami na ≈ªywo:** Tymczasowo ukrywaj elementy na stronie, aby testowaƒá zmiany w uk≈Çadzie.
*   **Wiele Format√≥w Kopiowania:** Skopiuj wygenerowany selektor jako standardowy filtr CSS, zapytanie JavaScript, XPath, lub skopiuj `outerHTML` i obliczone style elementu.
*   **Dostosowywalny Interfejs:** Zmie≈Ñ kolory pod≈õwietlenia wed≈Çug w≈Çasnych preferencji. Panel mo≈ºna przesuwaƒá i zmieniaƒá jego rozmiar.

## üöÄ Instalacja

1.  Sklonuj to repozytorium lub pobierz je jako plik ZIP.
2.  Otw√≥rz Google Chrome i przejd≈∫ do `chrome://extensions`.
3.  W≈ÇƒÖcz "Tryb dewelopera" w prawym g√≥rnym rogu.
4.  Kliknij "Za≈Çaduj rozpakowane" i wybierz katalog, w kt√≥rym zapisa≈Çe≈õ pliki rozszerzenia.
5.  Ikona Element Picker pojawi siƒô na pasku narzƒôdzi przeglƒÖdarki.

## üìñ Jak U≈ºywaƒá

1.  Przejd≈∫ na stronƒô internetowƒÖ, na kt√≥rej chcesz wybraƒá element.
2.  Kliknij ikonƒô Element Picker na pasku narzƒôdzi przeglƒÖdarki.
3.  Strona przejdzie w "tryb pr√≥bnika". Kursor zmieni siƒô w celownik, a na stronie pojawi siƒô p√≥≈Çprzezroczysta nak≈Çadka.
4.  Naje≈ºd≈ºaj na elementy, aby zobaczyƒá, jak sƒÖ pod≈õwietlane (domy≈õlnie na niebiesko).
5.  Kliknij element, aby go "wybraƒá". Spowoduje to wstrzymanie pr√≥bnika i otwarcie g≈Ç√≥wnego panelu sterowania.

## üéõÔ∏è Obja≈õnienie Panelu Sterowania

Po wybraniu elementu pojawia siƒô panel sterowania, dajƒÖcy pe≈ÇnƒÖ kontrolƒô nad generowaniem selektora.

### Kontrolki Generowania Selektora

To jest serce narzƒôdzia. Te kontrolki pozwalajƒÖ precyzyjnie zdefiniowaƒá potrzebny selektor.

#### Suwak (UP / DOWN)

Suwak jest g≈Ç√≥wnym narzƒôdziem do poruszania siƒô po drzewie DOM wzglƒôdem klikniƒôtego elementu. Jego zachowanie jest kontrolowane przez pole wyboru `Inside`.

*   **Tryb UP (`Inside` jest odznaczone):**
    *   To jest tryb domy≈õlny. Suwak pozwala na **przechodzenie w g√≥rƒô drzewa DOM** od wybranego elementu do jego rodzic√≥w.
    *   Gdy suwak jest na pozycji `0`, wskazuje na klikniƒôty element.
    *   W miarƒô przesuwania suwaka w prawo, zaznaczenie rozszerza siƒô na rodzica, potem dziadka itd. Jest to przydatne do wybrania kontenera, gdy kliknƒô≈Ço siƒô w konkretny element wewnƒÖtrz niego.
    *   Etykieta obok suwaka bƒôdzie mia≈Ça napis **UP**.

*   **Tryb DOWN (`Inside` jest zaznaczone):**
    *   Ten tryb pozwala na **przechodzenie w d√≥≈Ç do potomk√≥w** aktualnie wybranego elementu.
    *   U≈ºywa on `TreeWalker` do znalezienia wszystkich element√≥w podrzƒôdnych i wƒôz≈Ç√≥w tekstowych.
    *   Suwak pozwala przechodziƒá przez ka≈ºdego z tych potomk√≥w jeden po drugim. Jest to przydatne do precyzyjnego namierzenia elementu podrzƒôdnego w wiƒôkszym komponencie, kt√≥ry ju≈º zosta≈Ç wybrany.
    *   Etykieta obok suwaka bƒôdzie mia≈Ça napis **DOWN**.

#### Pola Wyboru (Checkboxy)

Te pola modyfikujƒÖ zachowanie suwaka oraz ostateczny, wygenerowany selektor.

*   ‚úÖ **`Inside`**
    *   **Funkcja:** Prze≈ÇƒÖcza zachowanie suwaka miƒôdzy trybem **UP** a trybem **DOWN**.
    *   **Gdy odznaczone (domy≈õlnie):** Suwak porusza siƒô w g√≥rƒô do element√≥w nadrzƒôdnych.
    *   **Gdy zaznaczone:** Suwak porusza siƒô w d√≥≈Ç do element√≥w podrzƒôdnych.

*   ‚úÖ **`Similar`**
    *   **Funkcja:** Prze≈ÇƒÖcza miƒôdzy wybieraniem pojedynczego, konkretnego elementu a wybieraniem wielu, podobnych element√≥w.
    *   **Gdy odznaczone (domy≈õlnie):** Narzƒôdzie u≈ºywa bardzo specyficznego selektora (np. ``div#main > ul.menu > li:nth-of-type(3)``), aby wskazaƒá *tylko* element, na kt√≥rym siƒô skupiasz. Pod≈õwietlony bƒôdzie jeden element.
    *   **Gdy zaznaczone:** Narzƒôdzie generuje bardziej og√≥lny selektor (np. `.menu-item`), kt√≥ry mo≈ºe pasowaƒá do wielu element√≥w na stronie. Wszystkie pasujƒÖce elementy zostanƒÖ pod≈õwietlone. Jest to idealne do tworzenia regu≈Ç, kt√≥re majƒÖ dotyczyƒá wszystkich podobnych element√≥w na li≈õcie lub w siatce.

*   ‚úÖ **`Short`**
    *   **Funkcja:** Kontroluje szczeg√≥≈Çowo≈õƒá selektora **wy≈õwietlanego w polu tekstowym**.
    *   **Gdy odznaczone (domy≈õlnie):** Pole tekstowe pokazuje pe≈ÇnƒÖ, precyzyjnƒÖ ≈õcie≈ºkƒô selektora (np. ``body > div#app > section.content``).
    *   **Gdy zaznaczone:** Pole tekstowe pokazuje kr√≥tszƒÖ, bardziej zwiƒôz≈ÇƒÖ wersjƒô selektora, zazwyczaj tylko dla ostatniego elementu w ≈õcie≈ºce (np. `section.content`). Jest to zmiana kosmetyczna, aby selektor by≈Ç ≈Çatwiejszy do odczytania, podczas gdy podstawowa logika zaznaczania nadal respektuje pole `Similar`.

### ‚ùÑÔ∏è Funkcja Zamra≈ºania (Freeze)

Dynamiczne strony internetowe czƒôsto posiadajƒÖ elementy, takie jak menu nawigacyjne, kt√≥re pojawiajƒÖ siƒô po najechaniu myszƒÖ i znikajƒÖ, gdy pr√≥bujesz przesunƒÖƒá kursor, aby je kliknƒÖƒá. Funkcja "Freeze" zosta≈Ça zaprojektowana, aby rozwiƒÖzaƒá ten problem.

Posiada ona dwa tryby:

1.  **Zamra≈ºanie JS (Kliknij przycisk `‚ùÑÔ∏è`):**
    *   **Co robi:** Ten tryb blokuje popularne zdarzenia JavaScript, kt√≥re powodujƒÖ ukrywanie element√≥w, takie jak `mouseout`, `mouseleave`, `blur` i `focusout`.
    *   **Jak u≈ºywaƒá:** Je≈õli menu znika, gdy odsuwasz od niego mysz, kliknij przycisk `‚ùÑÔ∏è`, aby aktywowaƒá zamra≈ºanie. Ikona zmieni kolor na niebieski. Teraz aktywuj menu (np. naje≈ºd≈ºajƒÖc na jego wyzwalacz). Powinno ono pozostaƒá widoczne, pozwalajƒÖc na klikniƒôcie jego element√≥w za pomocƒÖ pr√≥bnika.
    *   Kliknij przycisk `‚ùÑÔ∏è` ponownie, aby je wy≈ÇƒÖczyƒá.

2.  **Zamra≈ºanie CSS (Naci≈õnij klawisz `Z`):**
    *   **Co robi:** Ten tryb jest przeznaczony dla element√≥w, kt√≥re sƒÖ ods≈Çaniane za pomocƒÖ pseudoklasy CSS `:hover`. Robi "migawkƒô" obliczonych styl√≥w elementu po najechaniu i stosuje je bezpo≈õrednio w atrybucie `style`, zmuszajƒÖc go do pozostania widocznym.
    *   **Jak u≈ºywaƒá:** Najed≈∫ kursorem na element nadrzƒôdny, kt√≥ry wyzwala pojawienie siƒô menu (np. `<li>` w pasku nawigacji). Gdy menu jest widoczne, naci≈õnij klawisz `Z`. Menu zostanie "zamro≈ºone" na swoim miejscu, a na jego obszarze pojawi siƒô nak≈Çadka w paski, aby zasygnalizowaƒá, ≈ºe jest zamro≈ºone. Mo≈ºesz teraz swobodnie przesuwaƒá mysz i wybieraƒá z niego elementy.
    *   Naci≈õnij `Z` ponownie, aby odmroziƒá.

### Pozosta≈Çe Kontrolki

*   **Wy≈õwietlacz Selektora:** Pole tekstowe pokazujƒÖce aktualnie wygenerowany selektor. Mo≈ºna go r√≥wnie≈º rƒôcznie edytowaƒá.
*   **Tryb Kopiowania:** Zestaw przycisk√≥w radiowych do wyboru formatu kopiowania do schowka:
    *   `##`: Standardowy format filtra dla bloker√≥w reklam (np. `##div.ad-banner`).
    *   `JS`: CiƒÖg znak√≥w dla `querySelector` w JavaScript.
    *   `o.HTML` / `Element`: `outerHTML` elementu.
    *   `Styles`: Szczeg√≥≈Çowa lista obliczonych styl√≥w CSS elementu, podobna do narzƒôdzi deweloperskich przeglƒÖdarki.
    *   `XPath` / `F.XPath`: Wzglƒôdny lub pe≈Çny XPath elementu.
*   **Przyciski Akcji:**
    *   `SELECT`: Zamyka panel sterowania i wraca do trybu pr√≥bnika, aby wybraƒá nowy element.
    *   `CLEAR`: Czy≈õci bie≈ºƒÖce zaznaczenie i resetuje panel.
    *   `HIDE`: Stosuje `display: none !important;` do bie≈ºƒÖcego selektora, ukrywajƒÖc element(y).
    *   `UNDO`: Cofa ostatniƒÖ akcjƒô `HIDE`.
    *   `SHOW`: Cofa wszystkie akcje `HIDE` wykonane w bie≈ºƒÖcej sesji.
    *   `COPY`: Kopiuje selektor do schowka w wybranym formacie.
 
 
**Nazwa funkcji:** Rƒôczne Wprowadzanie Selektora

**Cel:** Umo≈ºliwienie u≈ºytkownikowi rƒôcznego wpisania lub wklejenia selektora CSS bezpo≈õrednio do panelu rozszerzenia, a nastƒôpnie potraktowanie znalezionego elementu tak, jakby zosta≈Ç on klikniƒôty myszƒÖ w trybie wyboru.

**Jak to dzia≈Ça:**

1.  U≈ºytkownik aktywuje rozszerzenie.
2.  W panelu, w g√≥rnym polu tekstowym (`#ubo-picker-filter-display`), u≈ºytkownik mo≈ºe wpisaƒá dowolny, poprawny selektor CSS.
3.  Po wpisaniu selektora, u≈ºytkownik naciska klawisz `Enter`.

**Scenariusze dzia≈Çania po naci≈õniƒôciu `Enter`:**

*   **Sukces (znaleziono element):**
    *   Rozszerzenie wyszukuje na stronie pierwszy element, kt√≥ry pasuje do podanego selektora.
    *   Je≈õli element zostanie znaleziony, rozszerzenie przechodzi w stan "wstrzymania" (`paused`), dok≈Çadnie tak, jak po klikniƒôciu elementu myszƒÖ.
    *   Generowana jest pe≈Çna ≈õcie≈ºka (`fullSelectorPath`) do tego elementu.
    *   Wszystkie kontrolki panelu (suwak do nawigacji w drzewie DOM, checkboxy `Inside`, `Similar`, `Short`) stajƒÖ siƒô aktywne i dzia≈ÇajƒÖ w kontek≈õcie znalezionego elementu, pozwalajƒÖc na dalszƒÖ manipulacjƒô i generowanie docelowego selektora.
    *   Pod≈õwietlenie selekcji poprawnie reaguje na przewijanie strony.

*   **Brak dopasowa≈Ñ:**
    *   Je≈õli podany selektor jest poprawny sk≈Çadniowo, ale nie znajduje ≈ºadnego elementu na stronie, pole tekstowe zostaje pod≈õwietlone na pomara≈Ñczowo i wy≈õwietlony zostaje komunikat `(0 matches)`.
    *   Rozszerzenie powraca do trybu aktywnego wyboru (kursor w kszta≈Çcie krzy≈ºyka), umo≈ºliwiajƒÖc ponowny wyb√≥r elementu myszƒÖ.

*   **Nieprawid≈Çowy selektor:**
    *   Je≈õli wpisany tekst nie jest prawid≈Çowym selektorem CSS (b≈ÇƒÖd sk≈Çadni), pole tekstowe zostaje pod≈õwietlone na czerwono, sygnalizujƒÖc b≈ÇƒÖd. Dalsze akcje nie sƒÖ podejmowane.
    *   
